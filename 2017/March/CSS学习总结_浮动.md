#CSS学习内容总结__浮动

>最近集中对学习了CSS和HTML，总结一些最近学习过程中的关键内容

##浮动

CSS允许浮动任何元素，这种行为使用float来实现。

    div {
        float :left; 
        width:10px;
    }

* 会以某种方式将浮动元素从文档的正常流中删除，但是浮动元素依然会影响布局（其他内容会"环绕"在浮动元素周围）。
* 浮动的元素周围的外边距不会合并，给浮动元素设置的外边距会影响浮动元素周围的内容环绕它的效果。
* 针对非替换元素，**如果要浮动一个非替换元素，必须要给该元素声明一个width**，根据CSS规范，没设置宽度的非替换元素在浮动后元素宽度会趋于0。

---

###浮动的本质

1. 首先要理解浮动元素浮动的范围，浮动元素的浮动范围就是其最近的**块级祖先元素**。
1. 其次，浮动元素本身会**生成一个块级框，不论这个元素本身是什么**，即使是行内元素，只要设置其为浮动的，就会**生成一个块级框**。

浮动元素遵循一系列的**行为准则**：

1. 浮动元素的左（或右）外边界不能超出其包含块的左（或右）内边界。
1. 浮动元素的左（或右）外边界必须是源文档中之前出现的左浮动（或右浮动）元素的右（左）外边界，除非后出现浮动元素的顶端在先出现浮动元素的底端下面。
1. 左浮动元素的右外边界不会在其右边元素右浮动元素的左外边界的右边。一个右浮动元素的左外边界不会在其左边任何左浮动元素的右外边界的左边。
1. 一个浮动元素的顶端不能比其父元素的内顶端更高。**如果一个浮动元素在两个合并的外边距之间，放置这个浮动元素时就好像在两个元素之间有一个块级父元素。**
1. 浮动元素的顶端不能比之前所有浮动元素或者块级元素的顶端更高。
1. 如果源文档中一个浮动元素之前出现另一个浮动元素，浮动元素的顶端不能比包含该元素的任何行框的顶端更高。
1. 左（或右）浮动元素的左边（右边）有另一个浮动元素，前者的右外边界不能在其包含块的右（左）边界的右边（左边）。
1. 浮动元素必须尽可能高地放置。
1. 左浮动元素必须向左尽可能远，右浮动元素必须向右尽可能远。

2、3保证了浮动元素不会相互重叠或者覆盖；4、5、6保证了浮动元素的高度不会超出规定；7保证浮动元素不会多个浮动元素出现在同一个水平行上远远超过了其包含块的情况，是对1的补充。

---

###意料外的结果

浮动元素遵守上面的9条准则，避免了很多意料外的状况，但是实际运用过程中，依然会出现意料外的一些情况。

**1. 浮动和清除浮动（clearfix hack）**

有些时候，浮动元素的长和宽值会比其包含块内容区规定的长宽值高（这种情况常在img元素浮动的时候遇到），如果不做出应对，浮动元素会超出父元素的内容区显示。

还有些情况下，包含块只包含多个浮动的子元素，包含块内容区设置了一个宽度，子元素的浮动确定了他们的位置，但是浮动不会影响包含块的宽度。这时候，包含块元素会塌陷，高度会变为接近为0，虽然经常被忽略，但是这个情况是实际存在的。

以上两种状况下都需要使用清除浮动的技巧，清除浮动的技巧有很多种，具体可以参见以下两个连接：

* [clearfix清除浮动进化史](http://www.admin10000.com/document/6259.html)

* [What methods of ‘clearfix’ can I use?
](http://stackoverflow.com/questions/211383/what-methods-of-clearfix-can-i-use)

最常用，最简洁的清除浮动方式如下（用到了伪类before和after）

    .clearfix:before,.clearfix:after{ 
    content:""; 
    display:table; 
    } 
    .clearfix:after{clear:both;} 

有些时候，不需要清除浮动，只想在上面两种情况发生（尤其是浮动元素大小超出包含块）时可以通过某种方式修正，可以对包含块父元素使用overflow属性。
    
    p{
        overflow: hidden| auto| scroll;
    }

**2. 负外边距**

上面已经说过了，浮动元素的外边距不会合并，因此当给浮动元素设置一个负外边距的时候，浮动元素也会导致浮动元素移到父元素的外面。